# Lighthouse ë²¤ì¹˜ë§ˆí¬ ê°€ì´ë“œ

## ê°œìš”

`bench-lighthouse.js`ëŠ” ì—¬ëŸ¬ ë²„ì „ì˜ ì›¹ í˜ì´ì§€ë¥¼ Lighthouseë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ ë¹„êµí•˜ëŠ” ë²¤ì¹˜ë§ˆí¬ ë„êµ¬ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

- ìµœëŒ€ 3ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ URL/ë²„ì „ì„ ë™ì‹œì— ë¹„êµ
- Lighthouse ê³µì‹ ì„±ëŠ¥ ì§€í‘œë§Œ ì¸¡ì • (FCP, LCP, TBT, CLS, Speed Index, TTI)
- ê°œë³„ ì‹¤í–‰ ê²°ê³¼ ë° ì „ì²´ ë¹„êµ ê²°ê³¼ë¥¼ JSONìœ¼ë¡œ ì €ì¥
- ì½˜ì†”ì—ì„œ ì‹¤ì‹œê°„ ê²°ê³¼ í™•ì¸ ê°€ëŠ¥

## ì„¤ì¹˜

```bash
cd frontend
npm install lighthouse chrome-launcher
```

## ì‚¬ìš© ë°©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²• - 3ê°œ ë²„ì „ ë¹„êµ (ê° 1íšŒì”©) â­

```bash
node bench/bench-lighthouse.js \
  --url1 "http://localhost:3000/feedback/4?version=old" \
  --url2 "http://localhost:3000/feedback/4?version=pdf" \
  --url3 "http://localhost:3000/feedback/4?version=new"
```

### ë²„ì „ì— ì´ë¦„ ì§€ì •í•˜ê¸°

```bash
node bench/bench-lighthouse.js \
  --url1 "http://localhost:3000/feedback/4?version=old" --name1 "Old Version" \
  --url2 "http://localhost:3000/feedback/4?version=pdf" --name2 "PDF Version" \
  --url3 "http://localhost:3000/feedback/4?version=new" --name3 "New Version"
```

### 1ê°œ ë²„ì „ë§Œ í…ŒìŠ¤íŠ¸

```bash
node bench/bench-lighthouse.js \
  --url1 "http://localhost:3000/feedback/4?version=pdf"
```

### ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰ (í†µê³„ìš©)

```bash
node bench/bench-lighthouse.js \
  --url1 "http://localhost:3000/feedback/4?version=old" \
  --url2 "http://localhost:3000/feedback/4?version=pdf" \
  --url3 "http://localhost:3000/feedback/4?version=new" \
  --runs 3
```

## ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| `--url1` | ì²« ë²ˆì§¸ ë¹„êµ URL (í•„ìˆ˜) | - |
| `--url2` | ë‘ ë²ˆì§¸ ë¹„êµ URL (ì„ íƒ) | - |
| `--url3` | ì„¸ ë²ˆì§¸ ë¹„êµ URL (ì„ íƒ) | - |
| `--name1` | ì²« ë²ˆì§¸ ë²„ì „ ì´ë¦„ | "Version 1" |
| `--name2` | ë‘ ë²ˆì§¸ ë²„ì „ ì´ë¦„ | "Version 2" |
| `--name3` | ì„¸ ë²ˆì§¸ ë²„ì „ ì´ë¦„ | "Version 3" |
| `--runs` | ê° ë²„ì „ë‹¹ ì‹¤í–‰ íšŸìˆ˜ | 1 (1íšŒì”©ë§Œ ì‹¤í–‰) |

## ì¶œë ¥ íŒŒì¼

### ê°œë³„ ì‹¤í–‰ ê²°ê³¼
- `lighthouse-{ë²„ì „ëª…}_run{ë²ˆí˜¸}-{íƒ€ì„ìŠ¤íƒ¬í”„}.json`
- ê° ì‹¤í–‰ì˜ ìƒì„¸ Lighthouse ê²°ê³¼ í¬í•¨

### ì „ì²´ ë¹„êµ ìš”ì•½
- `comparison-lighthouse-{íƒ€ì„ìŠ¤íƒ¬í”„}.json`
- ëª¨ë“  ë²„ì „ì˜ í†µê³„ ìš”ì•½ ë° ì›ë³¸ ë°ì´í„° í¬í•¨

## ì¸¡ì • ì§€í‘œ

### Performance Score
- ì „ì²´ ì„±ëŠ¥ ì ìˆ˜ (0-100)

### Core Web Vitals
- **FCP (First Contentful Paint)**: ì²« ì½˜í…ì¸ ê°€ í™”ë©´ì— í‘œì‹œë˜ëŠ” ì‹œê°„
- **LCP (Largest Contentful Paint)**: ê°€ì¥ í° ì½˜í…ì¸ ê°€ í‘œì‹œë˜ëŠ” ì‹œê°„
- **CLS (Cumulative Layout Shift)**: ë ˆì´ì•„ì›ƒ ì´ë™ ì •ë„

### ê¸°íƒ€ ì§€í‘œ
- **TBT (Total Blocking Time)**: ì´ ì°¨ë‹¨ ì‹œê°„
- **Speed Index**: í˜ì´ì§€ ì½˜í…ì¸ ê°€ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ì†ë„
- **TTI (Time to Interactive)**: ì¸í„°ë™í‹°ë¸Œ ê°€ëŠ¥ ì‹œì 

## ì¶œë ¥ ì˜ˆì‹œ

```
ğŸš€ 3ê°œ ë²„ì „ì„ ê°ê° 1íšŒì”© ì‹¤í–‰í•©ë‹ˆë‹¤...

######################################################################
### Version 1 ì‹œì‘ ###
### URL: http://localhost:3000/feedback/4?version=old
######################################################################

============================================================
Version 1 - Run 1/1 ì‹œì‘...
============================================================
[Lighthouse] ì¸¡ì • ì‹œì‘: http://localhost:3000/feedback/4?version=old
[Lighthouse] ì™„ë£Œ - Score: 85.5

â±ï¸ Total Time: 12345 ms

######################################################################
### Version 2 ì‹œì‘ ###
### URL: http://localhost:3000/feedback/4?version=pdf
######################################################################

============================================================
Version 2 - Run 1/1 ì‹œì‘...
============================================================
[Lighthouse] ì¸¡ì • ì‹œì‘: http://localhost:3000/feedback/4?version=pdf
[Lighthouse] ì™„ë£Œ - Score: 92.3

â±ï¸ Total Time: 10234 ms

######################################################################
### Version 3 ì‹œì‘ ###
### URL: http://localhost:3000/feedback/4?version=new
######################################################################

============================================================
Version 3 - Run 1/1 ì‹œì‘...
============================================================
[Lighthouse] ì¸¡ì • ì‹œì‘: http://localhost:3000/feedback/4?version=new
[Lighthouse] ì™„ë£Œ - Score: 88.7

â±ï¸ Total Time: 11456 ms

======================================================================
ğŸ“Š ì „ì²´ ë²„ì „ ë¹„êµ
======================================================================

ã€Version 1ã€‘
  Performance Score: 85.5 (85.5 ~ 85.5)
  FCP: 456.7ms (456.7 ~ 456.7)
  LCP: 1234.5ms (1234.5 ~ 1234.5)
  TBT: 123.4ms (123.4 ~ 123.4)
  CLS: 0.045 (0.045 ~ 0.045)
  Speed Index: 1567.8ms
  TTI: 2345.6ms

ã€Version 2ã€‘
  Performance Score: 92.3 (92.3 ~ 92.3)
  FCP: 345.6ms (345.6 ~ 345.6)
  LCP: 876.5ms (876.5 ~ 876.5)
  TBT: 56.7ms (56.7 ~ 56.7)
  CLS: 0.012 (0.012 ~ 0.012)
  Speed Index: 1123.4ms
  TTI: 1678.9ms

ã€Version 3ã€‘
  Performance Score: 88.7 (88.7 ~ 88.7)
  FCP: 398.2ms (398.2 ~ 398.2)
  LCP: 1050.3ms (1050.3 ~ 1050.3)
  TBT: 89.2ms (89.2 ~ 89.2)
  CLS: 0.028 (0.028 ~ 0.028)
  Speed Index: 1345.6ms
  TTI: 1989.4ms

ğŸ“Š Comparison saved: bench_out/comparison-lighthouse-2025-10-13T19-30-45-123Z.json

âœ… ëª¨ë“  ë²¤ì¹˜ë§ˆí¬ ì™„ë£Œ!
```

## ê¶Œì¥ ì‚¬ìš©ë²•

1. **ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰**: ì¸¡ì •í•  í˜ì´ì§€ê°€ ë¡œë”©ë˜ë„ë¡ ì„œë²„ë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”.

2. **ë¹ ë¥¸ ë¹„êµ**: ê° ë²„ì „ì„ 1íšŒì”© ì‹¤í–‰í•˜ì—¬ ë¹ ë¥´ê²Œ ì°¨ì´ë¥¼ í™•ì¸í•˜ì„¸ìš” (ê¸°ë³¸ê°’).

3. **ì •í™•í•œ ì¸¡ì •**: ë„¤íŠ¸ì›Œí¬ ë° ì‹œìŠ¤í…œ ë³€ë™ì„±ì„ ê³ ë ¤í•˜ë ¤ë©´ `--runs 3` ì˜µì…˜ìœ¼ë¡œ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•˜ì„¸ìš”.

4. **ì¼ê´€ëœ í™˜ê²½**: ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ìµœì†Œí™”í•˜ê³  ë™ì¼í•œ ì‹œìŠ¤í…œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

## ë¬¸ì œ í•´ê²°

### chrome-launcher ì—ëŸ¬
```bash
npm install lighthouse chrome-launcher
```

### Lighthouse ì‹¤í–‰ ì‹¤íŒ¨
- Node.js ë²„ì „ì´ 16 ì´ìƒì¸ì§€ í™•ì¸
- Chrome/Chromiumì´ ì‹œìŠ¤í…œì— ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### ë¹„êµí•  URLì´ ì—†ìŒ
- ìµœì†Œ `--url1`ì€ ë°˜ë“œì‹œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤

### ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹˜
- ì¸¡ì •í•˜ë ¤ëŠ” URLì˜ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”
- ì˜ˆ: `npm run dev` ë˜ëŠ” `npm start`

